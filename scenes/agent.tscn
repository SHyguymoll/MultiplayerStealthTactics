[gd_scene load_steps=89 format=3 uid="uid://oitco668lkwj"]

[ext_resource type="Script" path="res://scripts/agent.gd" id="1_qe0u1"]
[ext_resource type="PackedScene" uid="uid://c2d2uqv4wgbv7" path="res://assets/models/exports/Agent.gltf" id="2_bu3bb"]
[ext_resource type="Script" path="res://scripts/agent_anim_tree.gd" id="4_ierty"]
[ext_resource type="Texture2D" uid="uid://cwqah8mx0lopn" path="res://assets/sprites/hud_agent_small/items/analyzer.png" id="4_k5gu7"]
[ext_resource type="Texture2D" uid="uid://bdnyhebpqwdr6" path="res://assets/sprites/game_popups/spotted.png" id="5_ciyir"]
[ext_resource type="AudioStream" uid="uid://d0e1mgvv6n3j" path="res://assets/sounds/agent/noticed_sight.wav" id="6_1rg8k"]
[ext_resource type="AudioStream" uid="uid://bpdw6bnylxcjh" path="res://assets/sounds/agent/detected_element.wav" id="7_rs5ra"]
[ext_resource type="Texture2D" uid="uid://bw1hgctukifxg" path="res://assets/sprites/game_popups/agent_active.png" id="8_jowv5"]
[ext_resource type="Texture2D" uid="uid://yg2jqvru0vsy" path="res://assets/sprites/game_popups/agent_dead.png" id="9_6ccb4"]
[ext_resource type="Texture2D" uid="uid://4eclieiqk1g1" path="res://assets/sprites/game_popups/agent_dizzy.png" id="9_qm2d1"]
[ext_resource type="Texture2D" uid="uid://dqlwi4x2n0pvo" path="res://assets/sprites/game_popups/agent_vision.png" id="11_1jsy6"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_fpakf"]
points = PackedVector3Array(0, 0, 0, -0.5, 1, 2.5, 0.5, 1, 2.5, 0.5, -1, 2.5, -0.5, -1, 2.5)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_bpqx0"]
radius = 1.625

[sub_resource type="CylinderShape3D" id="CylinderShape3D_cwep7"]
height = 9.7099
radius = 1.0

[sub_resource type="CylinderShape3D" id="CylinderShape3D_tj67t"]
height = 0.09
radius = 0.245

[sub_resource type="CylinderShape3D" id="CylinderShape3D_vbwd1"]
height = 0.998478
radius = 0.20322

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_no7tm"]
properties/0/path = NodePath(".:queued_action")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath(".:state")
properties/1/spawn = true
properties/1/replication_mode = 1
properties/2/path = NodePath(".:target_direction")
properties/2/spawn = true
properties/2/replication_mode = 1
properties/3/path = NodePath(".:stun_time")
properties/3/spawn = true
properties/3/replication_mode = 1
properties/4/path = NodePath(".:health")
properties/4/spawn = true
properties/4/replication_mode = 1
properties/5/path = NodePath(".:stun_health")
properties/5/spawn = true
properties/5/replication_mode = 1
properties/6/path = NodePath(".:weapons_animation_blend")
properties/6/spawn = true
properties/6/replication_mode = 1
properties/7/path = NodePath(".:target_world_collide_height")
properties/7/spawn = true
properties/7/replication_mode = 1
properties/8/path = NodePath(".:target_world_collide_y")
properties/8/spawn = true
properties/8/replication_mode = 1
properties/9/path = NodePath(".:game_steps_since_execute")
properties/9/spawn = true
properties/9/replication_mode = 1
properties/10/path = NodePath(".:attack_step")
properties/10/spawn = true
properties/10/replication_mode = 1
properties/11/path = NodePath(".:position")
properties/11/spawn = true
properties/11/replication_mode = 1
properties/12/path = NodePath(".:rotation")
properties/12/spawn = true
properties/12/replication_mode = 1
properties/13/path = NodePath(".:target_visible_level")
properties/13/spawn = true
properties/13/replication_mode = 1
properties/14/path = NodePath(".:server_knows")
properties/14/spawn = true
properties/14/replication_mode = 1
properties/15/path = NodePath(".:client_knows")
properties/15/spawn = true
properties/15/replication_mode = 1
properties/16/path = NodePath(".:held_items")
properties/16/spawn = true
properties/16/replication_mode = 1
properties/17/path = NodePath(".:held_weapons")
properties/17/spawn = true
properties/17/replication_mode = 1
properties/18/path = NodePath("Agent/Box:visible")
properties/18/spawn = true
properties/18/replication_mode = 1
properties/19/path = NodePath("Agent/game_rig/Skeleton3D/Mesh:visible")
properties/19/spawn = true
properties/19/replication_mode = 1
properties/20/path = NodePath(".:noticed")
properties/20/spawn = true
properties/20/replication_mode = 1
properties/21/path = NodePath(".:step_seen")
properties/21/spawn = true
properties/21/replication_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3a7ln"]
animation = &"B_Crawl"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ccvvg"]
animation = &"B_CrouchToProne"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vv04s"]
animation = &"B_CrouchToStand"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_se3se"]
animation = &"B_Crouch_Attack_BigArms"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4oknw"]
animation = &"B_Crouch_Attack_Grenade"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ecp64"]
animation = &"B_Crouch_Attack_SmallArms"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0kht3"]
animation = &"B_Crouch_Walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_u3nlw"]
animation = &"B_Dead"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_q6hxh"]
animation = &"B_Hurt_Collapse"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_jp0kx"]
animation = &"B_Hurt_Crouching"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_niy3c"]
animation = &"B_Hurt_Explosion"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2yyr8"]
animation = &"B_Hurt_Prone"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_cdsxk"]
animation = &"B_Hurt_Slammed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1ltri"]
animation = &"B_Hurt_Standing"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_27igb"]
animation = &"B_Hurt_Stunned"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rdam5"]
animation = &"B_Hurt_WakeUp"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_p6nbt"]
animation = &"B_Prone"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pkjyc"]
animation = &"B_ProneToCrouch"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gal53"]
animation = &"B_Run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gdses"]
animation = &"B_StandToCrouch"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_djuo3"]
animation = &"B_Stand_Attack_BigArms"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mthtr"]
animation = &"B_Stand_Attack_Grenade"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y1ug0"]
animation = &"B_Stand_Attack_Slam"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0ne3q"]
animation = &"B_Stand_Attack_SmallArms"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_yk3yq"]
animation = &"B_Stand_Attack_Whiff"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y7icp"]
animation = &"B_Walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_a0pmd"]
animation = &"B_Crouch_Unarmed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_b04ws"]
animation = &"B_Crouch_SmallArms"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_aqb8g"]
animation = &"B_Crouch_Grenade"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4gpjp"]
animation = &"B_Crouch_BigArms"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_n66ou"]
blend_point_0/node = SubResource("AnimationNodeAnimation_a0pmd")
blend_point_0/pos = Vector2(1, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_b04ws")
blend_point_1/pos = Vector2(-1, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_aqb8g")
blend_point_2/pos = Vector2(1, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_4gpjp")
blend_point_3/pos = Vector2(-1, -1)
snap = Vector2(1, 1)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fmq2d"]
animation = &"B_Stand_Unarmed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8qgma"]
animation = &"B_Stand_SmallArms"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5u38k"]
animation = &"B_Stand_Grenade"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_u5gn2"]
animation = &"B_Stand_BigArms"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_8rdds"]
blend_point_0/node = SubResource("AnimationNodeAnimation_fmq2d")
blend_point_0/pos = Vector2(1, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_8qgma")
blend_point_1/pos = Vector2(-1, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_5u38k")
blend_point_2/pos = Vector2(1, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_u5gn2")
blend_point_3/pos = Vector2(-1, -1)
snap = Vector2(1, 1)

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_re2qw"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uriyk"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5xtmj"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1081g"]
advance_expression = "in_crouching_state() or in_prone_state()"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3pn76"]
advance_expression = "in_standing_state()"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1ig5k"]
advance_expression = "in_prone_state()"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7dsht"]
advance_expression = "in_standing_state() or in_crouching_state()"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_aplwg"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rp88q"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_tdotm"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_023ix"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_170e3"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_yk4rl"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ujfix"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_qvgd4"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lrg28"]
xfade_time = 0.2
advance_expression = "state == States.RUN"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nqr8r"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mgswt"]
xfade_time = 0.2
advance_expression = "state != States.RUN"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_bbtuh"]
xfade_time = 0.2
advance_expression = "state == States.CROUCH_WALK"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_o87xr"]
xfade_time = 0.2
advance_expression = "state != states.CROUCH_WALK"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_t4wvm"]
xfade_time = 0.2
advance_expression = "state == States.CRAWL"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8d62v"]
xfade_time = 0.2
advance_expression = "state != States.CRAWL"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ccrt2"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3v5w0"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xrym2"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ura3s"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_k2iyl"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_l3tuf"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lp682"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_c4ndx"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rt335"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cm1ny"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_24pjm"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_41j13"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_dmx22"]
states/B_Crawl/node = SubResource("AnimationNodeAnimation_3a7ln")
states/B_Crawl/position = Vector2(1321.94, 73)
states/B_CrouchToProne/node = SubResource("AnimationNodeAnimation_ccvvg")
states/B_CrouchToProne/position = Vector2(1164.94, 128)
states/B_CrouchToStand/node = SubResource("AnimationNodeAnimation_vv04s")
states/B_CrouchToStand/position = Vector2(680, 217)
states/B_Crouch_Attack_BigArms/node = SubResource("AnimationNodeAnimation_se3se")
states/B_Crouch_Attack_BigArms/position = Vector2(759.941, 361)
states/B_Crouch_Attack_Grenade/node = SubResource("AnimationNodeAnimation_4oknw")
states/B_Crouch_Attack_Grenade/position = Vector2(759.941, 417)
states/B_Crouch_Attack_SmallArms/node = SubResource("AnimationNodeAnimation_ecp64")
states/B_Crouch_Attack_SmallArms/position = Vector2(759.941, 307)
states/B_Crouch_Walk/node = SubResource("AnimationNodeAnimation_0kht3")
states/B_Crouch_Walk/position = Vector2(834.941, 102)
states/B_Dead/node = SubResource("AnimationNodeAnimation_u3nlw")
states/B_Dead/position = Vector2(1326.94, 353)
states/B_Hurt_Collapse/node = SubResource("AnimationNodeAnimation_q6hxh")
states/B_Hurt_Collapse/position = Vector2(1461.94, 406)
states/B_Hurt_Crouching/node = SubResource("AnimationNodeAnimation_jp0kx")
states/B_Hurt_Crouching/position = Vector2(1171.94, 262)
states/B_Hurt_Explosion/node = SubResource("AnimationNodeAnimation_niy3c")
states/B_Hurt_Explosion/position = Vector2(1354.94, 472)
states/B_Hurt_Prone/node = SubResource("AnimationNodeAnimation_2yyr8")
states/B_Hurt_Prone/position = Vector2(1321.94, 289)
states/B_Hurt_Slammed/node = SubResource("AnimationNodeAnimation_cdsxk")
states/B_Hurt_Slammed/position = Vector2(1171.94, 472)
states/B_Hurt_Standing/node = SubResource("AnimationNodeAnimation_1ltri")
states/B_Hurt_Standing/position = Vector2(524.941, 317)
states/B_Hurt_Stunned/node = SubResource("AnimationNodeAnimation_27igb")
states/B_Hurt_Stunned/position = Vector2(1171.94, 406)
states/B_Hurt_WakeUp/node = SubResource("AnimationNodeAnimation_rdam5")
states/B_Hurt_WakeUp/position = Vector2(1171.94, 345)
states/B_Prone/node = SubResource("AnimationNodeAnimation_p6nbt")
states/B_Prone/position = Vector2(1321.94, 154)
states/B_ProneToCrouch/node = SubResource("AnimationNodeAnimation_pkjyc")
states/B_ProneToCrouch/position = Vector2(1164.94, 188)
states/B_Run/node = SubResource("AnimationNodeAnimation_gal53")
states/B_Run/position = Vector2(603.941, 102)
states/B_StandToCrouch/node = SubResource("AnimationNodeAnimation_gdses")
states/B_StandToCrouch/position = Vector2(680, 157)
states/B_Stand_Attack_BigArms/node = SubResource("AnimationNodeAnimation_djuo3")
states/B_Stand_Attack_BigArms/position = Vector2(278.941, 406)
states/B_Stand_Attack_Grenade/node = SubResource("AnimationNodeAnimation_mthtr")
states/B_Stand_Attack_Grenade/position = Vector2(278.941, 452)
states/B_Stand_Attack_Slam/node = SubResource("AnimationNodeAnimation_y1ug0")
states/B_Stand_Attack_Slam/position = Vector2(278.941, 246)
states/B_Stand_Attack_SmallArms/node = SubResource("AnimationNodeAnimation_0ne3q")
states/B_Stand_Attack_SmallArms/position = Vector2(278.941, 354)
states/B_Stand_Attack_Whiff/node = SubResource("AnimationNodeAnimation_yk3yq")
states/B_Stand_Attack_Whiff/position = Vector2(278.941, 300)
states/B_Walk/node = SubResource("AnimationNodeAnimation_y7icp")
states/B_Walk/position = Vector2(457.941, 102)
states/Crouch/node = SubResource("AnimationNodeBlendSpace2D_n66ou")
states/Crouch/position = Vector2(834.941, 183)
states/End/position = Vector2(334.941, 119)
states/Stand/node = SubResource("AnimationNodeBlendSpace2D_8rdds")
states/Stand/position = Vector2(524.941, 183)
states/Start/position = Vector2(334.941, 183)
transitions = ["Start", "Stand", SubResource("AnimationNodeStateMachineTransition_re2qw"), "B_CrouchToStand", "Stand", SubResource("AnimationNodeStateMachineTransition_uriyk"), "B_StandToCrouch", "Crouch", SubResource("AnimationNodeStateMachineTransition_5xtmj"), "Stand", "B_StandToCrouch", SubResource("AnimationNodeStateMachineTransition_1081g"), "Crouch", "B_CrouchToStand", SubResource("AnimationNodeStateMachineTransition_3pn76"), "Crouch", "B_CrouchToProne", SubResource("AnimationNodeStateMachineTransition_1ig5k"), "B_Prone", "B_ProneToCrouch", SubResource("AnimationNodeStateMachineTransition_7dsht"), "B_CrouchToProne", "B_Prone", SubResource("AnimationNodeStateMachineTransition_aplwg"), "B_ProneToCrouch", "Crouch", SubResource("AnimationNodeStateMachineTransition_rp88q"), "B_Hurt_Standing", "Stand", SubResource("AnimationNodeStateMachineTransition_tdotm"), "B_Hurt_Crouching", "Crouch", SubResource("AnimationNodeStateMachineTransition_023ix"), "B_Hurt_Prone", "B_Prone", SubResource("AnimationNodeStateMachineTransition_170e3"), "B_Hurt_Slammed", "B_Hurt_Stunned", SubResource("AnimationNodeStateMachineTransition_yk4rl"), "B_Hurt_WakeUp", "Crouch", SubResource("AnimationNodeStateMachineTransition_ujfix"), "Stand", "B_Walk", SubResource("AnimationNodeStateMachineTransition_qvgd4"), "Stand", "B_Run", SubResource("AnimationNodeStateMachineTransition_lrg28"), "B_Walk", "Stand", SubResource("AnimationNodeStateMachineTransition_nqr8r"), "B_Run", "Stand", SubResource("AnimationNodeStateMachineTransition_mgswt"), "Crouch", "B_Crouch_Walk", SubResource("AnimationNodeStateMachineTransition_bbtuh"), "B_Crouch_Walk", "Crouch", SubResource("AnimationNodeStateMachineTransition_o87xr"), "B_Prone", "B_Crawl", SubResource("AnimationNodeStateMachineTransition_t4wvm"), "B_Crawl", "B_Prone", SubResource("AnimationNodeStateMachineTransition_8d62v"), "B_Walk", "B_Run", SubResource("AnimationNodeStateMachineTransition_ccrt2"), "B_Run", "B_Walk", SubResource("AnimationNodeStateMachineTransition_3v5w0"), "B_Stand_Attack_Slam", "Stand", SubResource("AnimationNodeStateMachineTransition_xrym2"), "B_Stand_Attack_SmallArms", "Stand", SubResource("AnimationNodeStateMachineTransition_ura3s"), "B_Stand_Attack_BigArms", "Stand", SubResource("AnimationNodeStateMachineTransition_k2iyl"), "B_Stand_Attack_Grenade", "Stand", SubResource("AnimationNodeStateMachineTransition_l3tuf"), "B_Crouch_Attack_SmallArms", "Crouch", SubResource("AnimationNodeStateMachineTransition_lp682"), "B_Crouch_Attack_BigArms", "Crouch", SubResource("AnimationNodeStateMachineTransition_c4ndx"), "B_Crouch_Attack_Grenade", "Crouch", SubResource("AnimationNodeStateMachineTransition_rt335"), "B_Hurt_Stunned", "B_Hurt_WakeUp", SubResource("AnimationNodeStateMachineTransition_cm1ny"), "B_Hurt_Explosion", "B_Hurt_Stunned", SubResource("AnimationNodeStateMachineTransition_24pjm"), "B_Stand_Attack_Whiff", "Stand", SubResource("AnimationNodeStateMachineTransition_41j13")]
graph_offset = Vector2(156.941, 32)

[node name="Agent" type="CharacterBody3D"]
collision_layer = 0
axis_lock_angular_x = true
axis_lock_angular_z = true
platform_floor_layers = 4294901761
script = ExtResource("1_qe0u1")

[node name="AgentVision" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0560442, 0)
offset = Vector2(0, -128)
axis = 1
texture = ExtResource("11_1jsy6")

[node name="Eyes" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 32
input_ray_pickable = false
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Eyes"]
shape = SubResource("ConvexPolygonShape3D_fpakf")

[node name="Ears" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
collision_layer = 0
collision_mask = 64
input_ray_pickable = false
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ears"]
shape = SubResource("CylinderShape3D_bpqx0")

[node name="PickupRange" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
collision_layer = 0
collision_mask = 2048
input_ray_pickable = false
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="PickupRange"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
shape = SubResource("CylinderShape3D_cwep7")

[node name="WorldCollision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0433259, 0)
shape = SubResource("CylinderShape3D_tj67t")

[node name="Body" type="Area3D" parent="."]
collision_layer = 288
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.496036, 0)
shape = SubResource("CylinderShape3D_vbwd1")

[node name="Agent" parent="." instance=ExtResource("2_bu3bb")]

[node name="Skeleton3D" parent="Agent/game_rig" index="0"]
bones/0/position = Vector3(0.00970438, 0.140525, 0.153095)
bones/0/rotation = Quaternion(0.731289, -0.185223, -0.178162, 0.631797)
bones/1/rotation = Quaternion(0.0934561, -0.00506471, -0.0557197, 0.99405)
bones/2/position = Vector3(2.09548e-09, 0.0547775, 1.35042e-08)
bones/2/rotation = Quaternion(-0.26436, 0.252352, 0.0567822, 0.92909)
bones/3/position = Vector3(2.09107e-10, 0.0797106, 1.15251e-08)
bones/3/rotation = Quaternion(-0.0838954, 0.112176, -0.0115027, 0.990074)
bones/4/position = Vector3(-3.49245e-09, 0.0948285, -3.66126e-08)
bones/4/rotation = Quaternion(0.0876082, -0.021154, 0.0219041, 0.99569)
bones/5/position = Vector3(-1.39698e-09, 0.0496912, 5.82077e-09)
bones/5/rotation = Quaternion(-0.0517699, 0.000610361, 3.16442e-05, 0.998659)
bones/5/scale = Vector3(1, 1, 1)
bones/6/position = Vector3(2.61934e-09, 0.047075, -1.76951e-08)
bones/6/rotation = Quaternion(-0.363057, -0.0184044, -0.0160358, 0.931447)
bones/7/position = Vector3(0.00970437, 0.140525, 0.153096)
bones/7/rotation = Quaternion(0.188975, -0.364101, -0.884779, 0.221098)
bones/8/position = Vector3(0.00970443, 0.140525, 0.153096)
bones/8/rotation = Quaternion(0.368089, 0.228133, 0.653217, 0.621107)
bones/9/position = Vector3(0.0612147, 0.113388, 0.178358)
bones/9/rotation = Quaternion(0.759742, -0.173619, 0.177097, -0.60107)
bones/10/position = Vector3(-2.09548e-09, 0.143834, 3.71907e-09)
bones/10/rotation = Quaternion(4.79633e-08, 0.00218337, -4.68916e-09, 0.999998)
bones/11/position = Vector3(-6.53175e-09, 0.143834, 4.02361e-09)
bones/11/rotation = Quaternion(0.105963, 0.00218338, -0.000232648, 0.994368)
bones/12/position = Vector3(-2.54582e-09, 0.104017, 6.67445e-09)
bones/12/rotation = Quaternion(2.67486e-08, -0.126761, 2.3306e-09, 0.991933)
bones/13/position = Vector3(5.01496e-09, 0.104017, 6.81159e-09)
bones/13/rotation = Quaternion(-0.021733, -0.127199, 0.0237245, 0.991355)
bones/14/position = Vector3(-5.12075e-09, 0.0641822, 2.08162e-08)
bones/14/rotation = Quaternion(-0.000101806, 0.998595, -0.0530006, -0.000331674)
bones/14/scale = Vector3(1, 1, 1)
bones/15/position = Vector3(-0.0385879, 0.170428, 0.181409)
bones/15/rotation = Quaternion(0.782786, -0.169299, 0.176813, -0.572119)
bones/16/position = Vector3(1.18744e-08, 0.144466, 3.73782e-09)
bones/16/rotation = Quaternion(6.23988e-08, 0.00225592, 1.2124e-08, 0.999998)
bones/17/position = Vector3(-3.67501e-09, 0.144466, 1.04774e-09)
bones/17/rotation = Quaternion(0.0612899, 0.00225599, -0.000138566, 0.998118)
bones/18/position = Vector3(-2.11079e-09, 0.104649, 6.82255e-10)
bones/18/rotation = Quaternion(3.66247e-08, -0.125474, -4.06817e-10, 0.992097)
bones/19/position = Vector3(2.26525e-08, 0.104649, 3.35797e-09)
bones/19/rotation = Quaternion(0.0743213, -0.125914, 0.00753327, 0.989225)
bones/20/position = Vector3(5.48402e-09, 0.0641857, 7.59969e-09)
bones/20/rotation = Quaternion(-9.50626e-05, 0.992758, -0.120131, -0.000328641)
bones/20/scale = Vector3(1, 1, 1)
bones/21/position = Vector3(0.0187401, 0.116716, 0.439305)
bones/21/rotation = Quaternion(-0.168309, -0.0898266, -0.388363, 0.901542)
bones/22/position = Vector3(0.0956894, 0.171102, 0.397817)
bones/22/rotation = Quaternion(0.299612, 0.332306, -0.878591, 0.166985)
bones/22/scale = Vector3(1, 1, 1)
bones/23/position = Vector3(5.67846e-08, 0.0880366, -2.59049e-08)
bones/23/rotation = Quaternion(-6.58653e-08, -0.218627, -1.02683e-07, 0.975808)
bones/24/position = Vector3(-9.23826e-09, 0.0880366, -1.18161e-08)
bones/24/rotation = Quaternion(0.705128, -0.218628, 0.245349, 0.628331)
bones/24/scale = Vector3(1, 1, 1)
bones/25/position = Vector3(2.62329e-08, 0.0903493, 7.93816e-09)
bones/25/rotation = Quaternion(6.25162e-08, 0.259599, -2.95574e-08, 0.965717)
bones/26/position = Vector3(-2.56663e-08, 0.0903493, -6.99549e-09)
bones/26/rotation = Quaternion(0.304902, 0.260763, -0.0881236, 0.911741)
bones/27/position = Vector3(0.000815892, 0.112793, 0.44027)
bones/27/rotation = Quaternion(-0.162975, 0.0990364, 0.580182, 0.791846)
bones/28/position = Vector3(-0.0955998, 0.129237, 0.408114)
bones/28/rotation = Quaternion(0.771029, 0.156487, 0.321518, 0.526927)
bones/29/position = Vector3(-1.25795e-08, 0.0905832, 4.09763e-08)
bones/29/rotation = Quaternion(1.86491e-07, 0.455072, -1.85582e-07, 0.890455)
bones/30/position = Vector3(-7.77481e-08, 0.0905831, -7.225e-08)
bones/30/rotation = Quaternion(0.125608, 0.455072, -0.0650182, 0.87915)
bones/31/position = Vector3(-3.74864e-09, 0.0931291, 1.49562e-08)
bones/31/rotation = Quaternion(2.07229e-08, -0.260539, 1.04222e-08, 0.965463)
bones/32/position = Vector3(-2.89967e-08, 0.0931292, 2.60917e-09)
bones/32/rotation = Quaternion(0.297783, -0.261701, 0.13232, 0.908477)
bones/32/scale = Vector3(1, 1, 1)
bones/33/rotation = Quaternion(-0.205274, -0.140402, -0.704767, 0.66442)
bones/34/rotation = Quaternion(-0.205274, -0.140402, -0.704767, 0.66442)
bones/35/rotation = Quaternion(-0.205274, -0.140402, -0.704767, 0.66442)
bones/36/rotation = Quaternion(-0.205274, -0.140402, -0.704767, 0.66442)
bones/37/rotation = Quaternion(-0.205274, -0.140402, -0.704767, 0.66442)
bones/38/rotation = Quaternion(-0.205274, -0.140402, -0.704767, 0.66442)
bones/39/rotation = Quaternion(0.0964416, 0.755102, 0.646933, 0.0446848)
bones/39/scale = Vector3(1, 1, 1)
bones/40/scale = Vector3(1, 1, 0.999999)
bones/41/rotation = Quaternion(0.0953879, 0.750062, 0.653191, -0.0406132)
bones/41/scale = Vector3(1, 1, 0.999999)
bones/42/position = Vector3(0.0610343, 0.153488, 0.34571)
bones/42/rotation = Quaternion(0.00533407, 0.190558, 0.975424, -0.110484)
bones/43/position = Vector3(-0.0622964, 0.126496, 0.352349)
bones/43/rotation = Quaternion(0.00533393, 0.190558, 0.975424, -0.110484)

[node name="FlagCenter" parent="Agent/game_rig/Skeleton3D" index="0"]
transform = Transform3D(-0.201245, -0.0357043, 0.97889, 0.219041, 0.972389, 0.0804985, -0.954737, 0.230617, -0.187868, -0.0603734, 0.0223631, 0.774924)

[node name="FlagClient" parent="Agent/game_rig/Skeleton3D" index="1"]
transform = Transform3D(-0.201245, -0.0357043, 0.97889, 0.219041, 0.972389, 0.0804985, -0.954737, 0.230617, -0.187868, -0.0603734, 0.0223631, 0.774924)

[node name="FlagServer" parent="Agent/game_rig/Skeleton3D" index="2"]
transform = Transform3D(-0.201245, -0.0357043, 0.97889, 0.219041, 0.972389, 0.0804985, -0.954737, 0.230617, -0.187868, -0.0603734, 0.0223631, 0.774924)

[node name="GrenadeFrag" parent="Agent/game_rig/Skeleton3D" index="3"]
transform = Transform3D(-0.201245, -0.0357043, 0.97889, 0.219041, 0.972389, 0.0804985, -0.954737, 0.230617, -0.187868, -0.0603734, 0.0223631, 0.774924)

[node name="GrenadeNoise" parent="Agent/game_rig/Skeleton3D" index="4"]
transform = Transform3D(-0.201245, -0.0357043, 0.97889, 0.219041, 0.972389, 0.0804985, -0.954737, 0.230617, -0.187868, -0.0603734, 0.0223631, 0.774924)

[node name="GrenadeSmoke" parent="Agent/game_rig/Skeleton3D" index="5"]
transform = Transform3D(-0.201245, -0.0357043, 0.97889, 0.219041, 0.972389, 0.0804985, -0.954737, 0.230617, -0.187868, -0.0603734, 0.0223631, 0.774924)

[node name="Pistol" parent="Agent/game_rig/Skeleton3D" index="6"]
transform = Transform3D(0.104024, 0.852443, 0.512367, -0.986913, 0.152291, -0.0530037, -0.123212, -0.500148, 0.857129, -0.0785761, 0.0112617, 0.776302)

[node name="Rifle" parent="Agent/game_rig/Skeleton3D" index="7"]
transform = Transform3D(-0.00357539, 0.841841, 0.539714, -0.983567, 0.0944641, -0.15386, -0.180509, -0.531395, 0.827668, -0.0753904, -0.00219775, 0.781441)

[node name="Shotgun" parent="Agent/game_rig/Skeleton3D" index="8"]
transform = Transform3D(0.129373, 0.839725, 0.527375, -0.948795, 0.259398, -0.180279, -0.288185, -0.477048, 0.830285, -0.0805347, -0.00448967, 0.786305)

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_no7tm")
visibility_update_mode = 1

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Agent")
callback_mode_process = 2
tree_root = SubResource("AnimationNodeStateMachine_dmx22")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Agent/AnimationPlayer")
parameters/Crouch/blend_position = Vector2(1, 1)
parameters/Stand/blend_position = Vector2(1, 1)
script = ExtResource("4_ierty")

[node name="ProneCheck" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.17, 0)
target_position = Vector3(0, 0, 0.535)
collide_with_areas = true
collide_with_bodies = false

[node name="CrouchCheck" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.17, 0)
target_position = Vector3(0, 0.5, 0)
collide_with_areas = true
collide_with_bodies = false

[node name="StandCheck" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.17, 0)
target_position = Vector3(0, 0.9, 0)
collide_with_areas = true
collide_with_bodies = false

[node name="ActiveItem" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.18837, 0)
visible = false
pixel_size = 0.003
billboard = 1
texture = ExtResource("4_k5gu7")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
path_desired_distance = 3.0
avoidance_enabled = true

[node name="CQCAnimationHelper" type="Node3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0.48)

[node name="Sprite3D" type="Sprite3D" parent="CQCAnimationHelper"]
visible = false
pixel_size = 0.0045
billboard = 1
texture = ExtResource("5_ciyir")

[node name="ClientsideSoundEffects" type="Node" parent="."]

[node name="GlancedSomething" type="AudioStreamPlayer3D" parent="ClientsideSoundEffects"]
stream = ExtResource("6_1rg8k")
bus = &"SFX"

[node name="SpottedElement" type="AudioStreamPlayer3D" parent="ClientsideSoundEffects"]
stream = ExtResource("7_rs5ra")
bus = &"SFX"

[node name="SpottedAgent" type="AudioStreamPlayer3D" parent="ClientsideSoundEffects"]
stream = ExtResource("7_rs5ra")
bus = &"SFX"

[node name="AgentIsActive" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
axis = 1
billboard = 2
texture = ExtResource("8_jowv5")

[node name="AgentIsDead" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1.30344, 0)
axis = 1
billboard = 2
texture_filter = 0
texture = ExtResource("9_6ccb4")

[node name="AgentIsStunned" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1.10928, 0)
pixel_size = 0.008
texture_filter = 0
texture = ExtResource("9_qm2d1")

[connection signal="animation_finished" from="AnimationTree" to="." method="_on_animation_finished"]
[connection signal="animation_finished" from="AnimationTree" to="AnimationTree" method="_on_animation_finished"]

[editable path="Agent"]
