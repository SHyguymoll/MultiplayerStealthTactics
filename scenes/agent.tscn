[gd_scene load_steps=88 format=3 uid="uid://oitco668lkwj"]

[ext_resource type="Script" uid="uid://daf3tjtdy7ln7" path="res://scripts/agent.gd" id="1_qe0u1"]
[ext_resource type="PackedScene" uid="uid://c2d2uqv4wgbv7" path="res://assets/models/exports/Agent.gltf" id="2_bu3bb"]
[ext_resource type="Texture2D" uid="uid://cwqah8mx0lopn" path="res://assets/sprites/hud_agent_small/items/analyzer.png" id="4_k5gu7"]
[ext_resource type="Texture2D" uid="uid://bdnyhebpqwdr6" path="res://assets/sprites/game_popups/spotted.png" id="5_ciyir"]
[ext_resource type="AudioStream" uid="uid://d0e1mgvv6n3j" path="res://assets/sounds/agent/noticed_sight.wav" id="6_1rg8k"]
[ext_resource type="AudioStream" uid="uid://bpdw6bnylxcjh" path="res://assets/sounds/agent/detected_element.wav" id="7_rs5ra"]
[ext_resource type="Texture2D" uid="uid://bw1hgctukifxg" path="res://assets/sprites/game_popups/agent_active.png" id="8_jowv5"]
[ext_resource type="Texture2D" uid="uid://yg2jqvru0vsy" path="res://assets/sprites/game_popups/agent_dead.png" id="9_6ccb4"]
[ext_resource type="Texture2D" uid="uid://4eclieiqk1g1" path="res://assets/sprites/game_popups/agent_dizzy.png" id="9_qm2d1"]
[ext_resource type="Texture2D" uid="uid://dqlwi4x2n0pvo" path="res://assets/sprites/game_popups/agent_vision.png" id="11_1jsy6"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_fpakf"]
points = PackedVector3Array(0, 0, 0, -0.5, 1, 2.5, 0.5, 1, 2.5, 0.5, -1, 2.5, -0.5, -1, 2.5)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_bpqx0"]
height = 1.58447
radius = 1.625

[sub_resource type="CylinderShape3D" id="CylinderShape3D_cwep7"]
height = 1.78469
radius = 1.0

[sub_resource type="CylinderShape3D" id="CylinderShape3D_tj67t"]
height = 0.09
radius = 0.245

[sub_resource type="CylinderShape3D" id="CylinderShape3D_vbwd1"]
height = 0.998478
radius = 0.20322

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_no7tm"]
properties/0/path = NodePath(".:queued_action")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath(".:state")
properties/1/spawn = true
properties/1/replication_mode = 1
properties/2/path = NodePath(".:target_direction")
properties/2/spawn = true
properties/2/replication_mode = 1
properties/3/path = NodePath(".:stun_time")
properties/3/spawn = true
properties/3/replication_mode = 1
properties/4/path = NodePath(".:health")
properties/4/spawn = true
properties/4/replication_mode = 1
properties/5/path = NodePath(".:stun_health")
properties/5/spawn = true
properties/5/replication_mode = 1
properties/6/path = NodePath(".:weapons_animation_blend")
properties/6/spawn = true
properties/6/replication_mode = 1
properties/7/path = NodePath(".:target_world_collide_height")
properties/7/spawn = true
properties/7/replication_mode = 1
properties/8/path = NodePath(".:target_world_collide_y")
properties/8/spawn = true
properties/8/replication_mode = 1
properties/9/path = NodePath(".:game_steps_since_execute")
properties/9/spawn = true
properties/9/replication_mode = 1
properties/10/path = NodePath(".:attack_step")
properties/10/spawn = true
properties/10/replication_mode = 1
properties/11/path = NodePath(".:position")
properties/11/spawn = true
properties/11/replication_mode = 1
properties/12/path = NodePath(".:rotation")
properties/12/spawn = true
properties/12/replication_mode = 1
properties/13/path = NodePath(".:target_visible_level")
properties/13/spawn = true
properties/13/replication_mode = 1
properties/14/path = NodePath(".:server_knows")
properties/14/spawn = true
properties/14/replication_mode = 1
properties/15/path = NodePath(".:client_knows")
properties/15/spawn = true
properties/15/replication_mode = 1
properties/16/path = NodePath(".:held_items")
properties/16/spawn = true
properties/16/replication_mode = 1
properties/17/path = NodePath(".:held_weapons")
properties/17/spawn = true
properties/17/replication_mode = 1
properties/18/path = NodePath("Agent/Box:visible")
properties/18/spawn = true
properties/18/replication_mode = 1
properties/19/path = NodePath("Agent/game_rig/Skeleton3D/Mesh:visible")
properties/19/spawn = true
properties/19/replication_mode = 1
properties/20/path = NodePath(".:noticed")
properties/20/spawn = true
properties/20/replication_mode = 1
properties/21/path = NodePath(".:step_seen")
properties/21/spawn = true
properties/21/replication_mode = 1
properties/22/path = NodePath(".:action_done")
properties/22/spawn = true
properties/22/replication_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3a7ln"]
animation = &"B_Crawl"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ccvvg"]
animation = &"B_CrouchToProne"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vv04s"]
animation = &"B_CrouchToStand"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_se3se"]
animation = &"B_Crouch_Attack_BigArms"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4oknw"]
animation = &"B_Crouch_Attack_Grenade"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ecp64"]
animation = &"B_Crouch_Attack_SmallArms"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0kht3"]
animation = &"B_Crouch_Walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_u3nlw"]
animation = &"B_Dead"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_q6hxh"]
animation = &"B_Hurt_Collapse"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_jp0kx"]
animation = &"B_Hurt_Crouching"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_niy3c"]
animation = &"B_Hurt_Explosion"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2yyr8"]
animation = &"B_Hurt_Prone"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_cdsxk"]
animation = &"B_Hurt_Slammed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1ltri"]
animation = &"B_Hurt_Standing"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_27igb"]
animation = &"B_Hurt_Stunned"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rdam5"]
animation = &"B_Hurt_WakeUp"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_p6nbt"]
animation = &"B_Prone"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pkjyc"]
animation = &"B_ProneToCrouch"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gal53"]
animation = &"B_Run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gdses"]
animation = &"B_StandToCrouch"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_djuo3"]
animation = &"B_Stand_Attack_BigArms"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mthtr"]
animation = &"B_Stand_Attack_Grenade"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y1ug0"]
animation = &"B_Stand_Attack_Slam"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0ne3q"]
animation = &"B_Stand_Attack_SmallArms"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_yk3yq"]
animation = &"B_Stand_Attack_Whiff"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y7icp"]
animation = &"B_Walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_a0pmd"]
animation = &"B_Crouch_Unarmed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_b04ws"]
animation = &"B_Crouch_SmallArms"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_aqb8g"]
animation = &"B_Crouch_Grenade"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4gpjp"]
animation = &"B_Crouch_BigArms"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_n66ou"]
blend_point_0/node = SubResource("AnimationNodeAnimation_a0pmd")
blend_point_0/pos = Vector2(1, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_b04ws")
blend_point_1/pos = Vector2(-1, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_aqb8g")
blend_point_2/pos = Vector2(1, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_4gpjp")
blend_point_3/pos = Vector2(-1, -1)
snap = Vector2(1, 1)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fmq2d"]
animation = &"B_Stand_Unarmed"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8qgma"]
animation = &"B_Stand_SmallArms"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5u38k"]
animation = &"B_Stand_Grenade"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_u5gn2"]
animation = &"B_Stand_BigArms"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_8rdds"]
blend_point_0/node = SubResource("AnimationNodeAnimation_fmq2d")
blend_point_0/pos = Vector2(1, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_8qgma")
blend_point_1/pos = Vector2(-1, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_5u38k")
blend_point_2/pos = Vector2(1, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_u5gn2")
blend_point_3/pos = Vector2(-1, -1)
snap = Vector2(1, 1)

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_re2qw"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uriyk"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5xtmj"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1081g"]
advance_expression = "in_crouching_state() or in_prone_state()"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3pn76"]
advance_expression = "in_standing_state()"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1ig5k"]
advance_expression = "in_prone_state()"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7dsht"]
advance_expression = "in_standing_state() or in_crouching_state()"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_aplwg"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rp88q"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_tdotm"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_023ix"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_170e3"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_yk4rl"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ujfix"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_qvgd4"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lrg28"]
xfade_time = 0.2
advance_expression = "state == States.RUN"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nqr8r"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mgswt"]
xfade_time = 0.2
advance_expression = "state != States.RUN"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_bbtuh"]
xfade_time = 0.2
advance_expression = "state == States.CROUCH_WALK"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_o87xr"]
xfade_time = 0.2
advance_expression = "state != states.CROUCH_WALK"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_t4wvm"]
xfade_time = 0.2
advance_expression = "state == States.CRAWL"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8d62v"]
xfade_time = 0.2
advance_expression = "state != States.CRAWL"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ccrt2"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3v5w0"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xrym2"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ura3s"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_k2iyl"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_l3tuf"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lp682"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_c4ndx"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rt335"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cm1ny"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_24pjm"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_41j13"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_dmx22"]
states/B_Crawl/node = SubResource("AnimationNodeAnimation_3a7ln")
states/B_Crawl/position = Vector2(1321.94, 73)
states/B_CrouchToProne/node = SubResource("AnimationNodeAnimation_ccvvg")
states/B_CrouchToProne/position = Vector2(1164.94, 128)
states/B_CrouchToStand/node = SubResource("AnimationNodeAnimation_vv04s")
states/B_CrouchToStand/position = Vector2(680, 217)
states/B_Crouch_Attack_BigArms/node = SubResource("AnimationNodeAnimation_se3se")
states/B_Crouch_Attack_BigArms/position = Vector2(759.941, 361)
states/B_Crouch_Attack_Grenade/node = SubResource("AnimationNodeAnimation_4oknw")
states/B_Crouch_Attack_Grenade/position = Vector2(759.941, 417)
states/B_Crouch_Attack_SmallArms/node = SubResource("AnimationNodeAnimation_ecp64")
states/B_Crouch_Attack_SmallArms/position = Vector2(759.941, 307)
states/B_Crouch_Walk/node = SubResource("AnimationNodeAnimation_0kht3")
states/B_Crouch_Walk/position = Vector2(834.941, 102)
states/B_Dead/node = SubResource("AnimationNodeAnimation_u3nlw")
states/B_Dead/position = Vector2(1326.94, 353)
states/B_Hurt_Collapse/node = SubResource("AnimationNodeAnimation_q6hxh")
states/B_Hurt_Collapse/position = Vector2(1461.94, 406)
states/B_Hurt_Crouching/node = SubResource("AnimationNodeAnimation_jp0kx")
states/B_Hurt_Crouching/position = Vector2(1171.94, 262)
states/B_Hurt_Explosion/node = SubResource("AnimationNodeAnimation_niy3c")
states/B_Hurt_Explosion/position = Vector2(1354.94, 472)
states/B_Hurt_Prone/node = SubResource("AnimationNodeAnimation_2yyr8")
states/B_Hurt_Prone/position = Vector2(1321.94, 289)
states/B_Hurt_Slammed/node = SubResource("AnimationNodeAnimation_cdsxk")
states/B_Hurt_Slammed/position = Vector2(1171.94, 472)
states/B_Hurt_Standing/node = SubResource("AnimationNodeAnimation_1ltri")
states/B_Hurt_Standing/position = Vector2(524.941, 317)
states/B_Hurt_Stunned/node = SubResource("AnimationNodeAnimation_27igb")
states/B_Hurt_Stunned/position = Vector2(1171.94, 406)
states/B_Hurt_WakeUp/node = SubResource("AnimationNodeAnimation_rdam5")
states/B_Hurt_WakeUp/position = Vector2(1171.94, 345)
states/B_Prone/node = SubResource("AnimationNodeAnimation_p6nbt")
states/B_Prone/position = Vector2(1321.94, 154)
states/B_ProneToCrouch/node = SubResource("AnimationNodeAnimation_pkjyc")
states/B_ProneToCrouch/position = Vector2(1164.94, 188)
states/B_Run/node = SubResource("AnimationNodeAnimation_gal53")
states/B_Run/position = Vector2(603.941, 102)
states/B_StandToCrouch/node = SubResource("AnimationNodeAnimation_gdses")
states/B_StandToCrouch/position = Vector2(680, 157)
states/B_Stand_Attack_BigArms/node = SubResource("AnimationNodeAnimation_djuo3")
states/B_Stand_Attack_BigArms/position = Vector2(278.941, 406)
states/B_Stand_Attack_Grenade/node = SubResource("AnimationNodeAnimation_mthtr")
states/B_Stand_Attack_Grenade/position = Vector2(278.941, 452)
states/B_Stand_Attack_Slam/node = SubResource("AnimationNodeAnimation_y1ug0")
states/B_Stand_Attack_Slam/position = Vector2(278.941, 246)
states/B_Stand_Attack_SmallArms/node = SubResource("AnimationNodeAnimation_0ne3q")
states/B_Stand_Attack_SmallArms/position = Vector2(278.941, 354)
states/B_Stand_Attack_Whiff/node = SubResource("AnimationNodeAnimation_yk3yq")
states/B_Stand_Attack_Whiff/position = Vector2(278.941, 300)
states/B_Walk/node = SubResource("AnimationNodeAnimation_y7icp")
states/B_Walk/position = Vector2(457.941, 102)
states/Crouch/node = SubResource("AnimationNodeBlendSpace2D_n66ou")
states/Crouch/position = Vector2(834.941, 183)
states/End/position = Vector2(334.941, 119)
states/Stand/node = SubResource("AnimationNodeBlendSpace2D_8rdds")
states/Stand/position = Vector2(524.941, 183)
states/Start/position = Vector2(334.941, 183)
transitions = ["Start", "Stand", SubResource("AnimationNodeStateMachineTransition_re2qw"), "B_CrouchToStand", "Stand", SubResource("AnimationNodeStateMachineTransition_uriyk"), "B_StandToCrouch", "Crouch", SubResource("AnimationNodeStateMachineTransition_5xtmj"), "Stand", "B_StandToCrouch", SubResource("AnimationNodeStateMachineTransition_1081g"), "Crouch", "B_CrouchToStand", SubResource("AnimationNodeStateMachineTransition_3pn76"), "Crouch", "B_CrouchToProne", SubResource("AnimationNodeStateMachineTransition_1ig5k"), "B_Prone", "B_ProneToCrouch", SubResource("AnimationNodeStateMachineTransition_7dsht"), "B_CrouchToProne", "B_Prone", SubResource("AnimationNodeStateMachineTransition_aplwg"), "B_ProneToCrouch", "Crouch", SubResource("AnimationNodeStateMachineTransition_rp88q"), "B_Hurt_Standing", "Stand", SubResource("AnimationNodeStateMachineTransition_tdotm"), "B_Hurt_Crouching", "Crouch", SubResource("AnimationNodeStateMachineTransition_023ix"), "B_Hurt_Prone", "B_Prone", SubResource("AnimationNodeStateMachineTransition_170e3"), "B_Hurt_Slammed", "B_Hurt_Stunned", SubResource("AnimationNodeStateMachineTransition_yk4rl"), "B_Hurt_WakeUp", "Crouch", SubResource("AnimationNodeStateMachineTransition_ujfix"), "Stand", "B_Walk", SubResource("AnimationNodeStateMachineTransition_qvgd4"), "Stand", "B_Run", SubResource("AnimationNodeStateMachineTransition_lrg28"), "B_Walk", "Stand", SubResource("AnimationNodeStateMachineTransition_nqr8r"), "B_Run", "Stand", SubResource("AnimationNodeStateMachineTransition_mgswt"), "Crouch", "B_Crouch_Walk", SubResource("AnimationNodeStateMachineTransition_bbtuh"), "B_Crouch_Walk", "Crouch", SubResource("AnimationNodeStateMachineTransition_o87xr"), "B_Prone", "B_Crawl", SubResource("AnimationNodeStateMachineTransition_t4wvm"), "B_Crawl", "B_Prone", SubResource("AnimationNodeStateMachineTransition_8d62v"), "B_Walk", "B_Run", SubResource("AnimationNodeStateMachineTransition_ccrt2"), "B_Run", "B_Walk", SubResource("AnimationNodeStateMachineTransition_3v5w0"), "B_Stand_Attack_Slam", "Stand", SubResource("AnimationNodeStateMachineTransition_xrym2"), "B_Stand_Attack_SmallArms", "Stand", SubResource("AnimationNodeStateMachineTransition_ura3s"), "B_Stand_Attack_BigArms", "Stand", SubResource("AnimationNodeStateMachineTransition_k2iyl"), "B_Stand_Attack_Grenade", "Stand", SubResource("AnimationNodeStateMachineTransition_l3tuf"), "B_Crouch_Attack_SmallArms", "Crouch", SubResource("AnimationNodeStateMachineTransition_lp682"), "B_Crouch_Attack_BigArms", "Crouch", SubResource("AnimationNodeStateMachineTransition_c4ndx"), "B_Crouch_Attack_Grenade", "Crouch", SubResource("AnimationNodeStateMachineTransition_rt335"), "B_Hurt_Stunned", "B_Hurt_WakeUp", SubResource("AnimationNodeStateMachineTransition_cm1ny"), "B_Hurt_Explosion", "B_Hurt_Stunned", SubResource("AnimationNodeStateMachineTransition_24pjm"), "B_Stand_Attack_Whiff", "Stand", SubResource("AnimationNodeStateMachineTransition_41j13")]
graph_offset = Vector2(614.941, 265)

[node name="Agent" type="CharacterBody3D"]
collision_layer = 0
axis_lock_angular_x = true
axis_lock_angular_z = true
platform_floor_layers = 4294901761
script = ExtResource("1_qe0u1")

[node name="AgentVision" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0560442, 0)
offset = Vector2(0, -128)
axis = 1
texture = ExtResource("11_1jsy6")

[node name="Eyes" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 32
input_ray_pickable = false
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Eyes"]
shape = SubResource("ConvexPolygonShape3D_fpakf")

[node name="Ears" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
collision_layer = 0
collision_mask = 64
input_ray_pickable = false
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ears"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.207764, 0)
shape = SubResource("CylinderShape3D_bpqx0")

[node name="PickupRange" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
collision_layer = 0
collision_mask = 2048
input_ray_pickable = false
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="PickupRange"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.43236, 0)
shape = SubResource("CylinderShape3D_cwep7")

[node name="WorldCollision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0433259, 0)
shape = SubResource("CylinderShape3D_tj67t")

[node name="Body" type="Area3D" parent="."]
collision_layer = 288
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.496036, 0)
shape = SubResource("CylinderShape3D_vbwd1")

[node name="Agent" parent="." instance=ExtResource("2_bu3bb")]

[node name="Skeleton3D" parent="Agent/game_rig" index="0"]
bones/0/position = Vector3(-0.0138436, 0.462437, -0.0557484)
bones/0/rotation = Quaternion(0.247784, 0.144559, -0.0374194, 0.957239)
bones/1/rotation = Quaternion(-0.144588, 0.00111364, 0.0122535, 0.989415)
bones/2/position = Vector3(-3.27121e-09, 0.0685126, -1.6654e-10)
bones/2/rotation = Quaternion(-0.0373246, -0.109076, 0.0133804, 0.993242)
bones/3/position = Vector3(-1.08491e-09, 0.0867925, 6.64823e-09)
bones/3/rotation = Quaternion(0.157698, -0.0365639, 0.00584325, 0.986793)
bones/4/position = Vector3(-3.63495e-14, 0.119376, 1.20845e-07)
bones/4/rotation = Quaternion(0.0464949, -1.1908e-07, 5.54261e-09, 0.998919)
bones/5/position = Vector3(7.49398e-16, 0.0332151, 3.64586e-08)
bones/5/rotation = Quaternion(-0.0948574, -5.69044e-15, 6.14935e-16, 0.995491)
bones/5/scale = Vector3(1, 1, 1)
bones/6/position = Vector3(-1.7486e-15, 0.0314771, 3.34319e-08)
bones/6/rotation = Quaternion(-0.181728, 2.94886e-15, 8.47913e-15, 0.983349)
bones/7/position = Vector3(-0.0138437, 0.462437, -0.0557484)
bones/7/rotation = Quaternion(-0.0823484, -0.61869, -0.473245, 0.621676)
bones/8/position = Vector3(-0.0138436, 0.462437, -0.0557484)
bones/8/rotation = Quaternion(0.0610727, 0.774679, 0.476458, 0.411254)
bones/9/position = Vector3(0.0433843, 0.48816, -0.0653004)
bones/9/rotation = Quaternion(0.982754, 0.0485896, -0.146687, 0.101568)
bones/10/position = Vector3(0, 0.141704, 1.12331e-08)
bones/10/rotation = Quaternion(-5.58796e-08, 0.00418131, 1.4839e-08, 0.999991)
bones/11/position = Vector3(-3.95969e-09, 0.141704, -8.90577e-09)
bones/11/rotation = Quaternion(0.394949, 0.00372669, -0.00160217, 0.918694)
bones/12/position = Vector3(-1.93096e-08, 0.101885, 6.17172e-09)
bones/12/rotation = Quaternion(-3.77301e-08, -0.0167738, -5.96364e-09, 0.999859)
bones/13/position = Vector3(9.44222e-09, 0.101885, 4.08632e-09)
bones/13/rotation = Quaternion(-0.737612, -0.0165105, 0.0413044, 0.673759)
bones/14/position = Vector3(-1.46453e-08, 0.0640766, -9.59268e-09)
bones/14/rotation = Quaternion(-0.000161733, 0.968408, -0.249373, -0.000305958)
bones/14/scale = Vector3(1, 1, 1)
bones/15/position = Vector3(-0.0664807, 0.48816, -0.0313431)
bones/15/rotation = Quaternion(0.952767, -0.0470589, -0.148368, 0.260784)
bones/16/position = Vector3(-1.49012e-08, 0.141987, 9.28882e-09)
bones/16/rotation = Quaternion(-7.97144e-08, 0.0524026, 1.33303e-08, 0.998626)
bones/17/position = Vector3(1.10779e-08, 0.141987, 2.17988e-08)
bones/17/rotation = Quaternion(0.351092, 0.0523778, -0.019675, 0.934668)
bones/18/position = Vector3(-4.90476e-09, 0.102168, 4.83624e-09)
bones/18/rotation = Quaternion(-2.46078e-08, 0.0379109, 2.30557e-08, 0.999281)
bones/19/position = Vector3(-5.00036e-09, 0.102168, -8.11173e-09)
bones/19/rotation = Quaternion(-0.582782, 0.0367601, -0.0223672, 0.811489)
bones/20/position = Vector3(6.1679e-09, 0.0640709, 7.22698e-09)
bones/20/rotation = Quaternion(-0.000167947, 0.968415, -0.249342, -0.000305397)
bones/20/scale = Vector3(1, 1, 1)
bones/21/position = Vector3(0.00918689, 0.734712, 0.0714399)
bones/21/rotation = Quaternion(-0.495776, -0.283279, -0.407683, 0.712568)
bones/22/position = Vector3(0.0990367, 0.755, 0.0232828)
bones/22/rotation = Quaternion(-0.0396402, 0.291447, -0.924846, 0.241139)
bones/22/scale = Vector3(1, 1, 1)
bones/23/position = Vector3(-6.12609e-08, 0.0879986, -4.08037e-08)
bones/23/rotation = Quaternion(8.4786e-08, 0.0399759, 5.24655e-08, 0.999201)
bones/24/position = Vector3(1.31146e-08, 0.0879986, -7.95116e-08)
bones/24/rotation = Quaternion(0.79951, 0.0399754, -0.0535449, 0.596924)
bones/24/scale = Vector3(1, 1, 1)
bones/25/position = Vector3(4.40469e-08, 0.0903021, 3.12288e-08)
bones/25/rotation = Quaternion(3.5751e-07, 0.021294, 9.35746e-08, 0.999773)
bones/26/position = Vector3(-7.15576e-09, 0.0903022, -1.04661e-07)
bones/26/rotation = Quaternion(0.35736, 0.0224871, 0.131915, 0.92433)
bones/27/position = Vector3(-0.0091869, 0.734712, 0.0714399)
bones/27/rotation = Quaternion(-0.495776, 0.283279, 0.407684, 0.712568)
bones/28/position = Vector3(-0.101065, 0.73748, 0.0199937)
bones/28/rotation = Quaternion(0.159419, -0.11113, 0.918279, 0.344964)
bones/29/position = Vector3(-1.17171e-08, 0.0879377, -2.05107e-08)
bones/29/rotation = Quaternion(-9.1364e-08, 0.000576272, -6.11406e-08, 1)
bones/30/position = Vector3(-6.5459e-08, 0.0879377, 6.19332e-08)
bones/30/rotation = Quaternion(0.853359, 0.000576786, -0.00095265, 0.521322)
bones/31/position = Vector3(4.06881e-08, 0.0901137, 6.84119e-10)
bones/31/rotation = Quaternion(-2.74761e-07, -0.199315, 1.69746e-07, 0.979935)
bones/32/position = Vector3(9.574e-08, 0.0901138, -6.61953e-09)
bones/32/rotation = Quaternion(0.235874, -0.200485, -0.304491, 0.900808)
bones/32/scale = Vector3(1, 1, 1)
bones/33/rotation = Quaternion(-0.205274, -0.140402, -0.704767, 0.66442)
bones/34/rotation = Quaternion(-0.205274, -0.140402, -0.704767, 0.66442)
bones/35/rotation = Quaternion(-0.205274, -0.140402, -0.704767, 0.66442)
bones/36/rotation = Quaternion(-0.205274, -0.140402, -0.704767, 0.66442)
bones/37/rotation = Quaternion(-0.205274, -0.140402, -0.704767, 0.66442)
bones/38/rotation = Quaternion(-0.205274, -0.140402, -0.704767, 0.66442)
bones/39/rotation = Quaternion(0.0964416, 0.755102, 0.646933, 0.0446848)
bones/39/scale = Vector3(1, 1, 1)
bones/40/scale = Vector3(1, 1, 0.999999)
bones/41/rotation = Quaternion(0.0953879, 0.750062, 0.653191, -0.0406132)
bones/41/scale = Vector3(1, 1, 0.999999)
bones/42/position = Vector3(0.0632122, 0.685377, -0.00948263)
bones/42/rotation = Quaternion(1.74166e-07, 0.570907, 0.821015, -3.49051e-08)
bones/43/position = Vector3(-0.0632122, 0.685377, -0.00948263)
bones/43/rotation = Quaternion(-1.02391e-07, 0.570907, 0.821015, -1.50051e-08)

[node name="FlagCenter" parent="Agent/game_rig/Skeleton3D" index="0"]
transform = Transform3D(-0.137481, -0.586849, 0.797939, -0.668144, 0.649655, 0.362673, -0.73122, -0.483278, -0.481415, -0.0923055, 0.649444, 0.161306)

[node name="FlagClient" parent="Agent/game_rig/Skeleton3D" index="1"]
transform = Transform3D(-0.137481, -0.586849, 0.797939, -0.668144, 0.649655, 0.362673, -0.73122, -0.483278, -0.481415, -0.0923055, 0.649444, 0.161306)

[node name="FlagServer" parent="Agent/game_rig/Skeleton3D" index="2"]
transform = Transform3D(-0.137481, -0.586849, 0.797939, -0.668144, 0.649655, 0.362673, -0.73122, -0.483278, -0.481415, -0.0923055, 0.649444, 0.161306)

[node name="GrenadeFrag" parent="Agent/game_rig/Skeleton3D" index="3"]
transform = Transform3D(-0.137481, -0.586849, 0.797939, -0.668144, 0.649655, 0.362673, -0.73122, -0.483278, -0.481415, -0.0923055, 0.649444, 0.161306)

[node name="GrenadeNoise" parent="Agent/game_rig/Skeleton3D" index="4"]
transform = Transform3D(-0.137481, -0.586849, 0.797939, -0.668144, 0.649655, 0.362673, -0.73122, -0.483278, -0.481415, -0.0923055, 0.649444, 0.161306)

[node name="GrenadeSmoke" parent="Agent/game_rig/Skeleton3D" index="5"]
transform = Transform3D(-0.137481, -0.586849, 0.797939, -0.668144, 0.649655, 0.362673, -0.73122, -0.483278, -0.481415, -0.0923055, 0.649444, 0.161306)

[node name="Pistol" parent="Agent/game_rig/Skeleton3D" index="6"]
transform = Transform3D(0.634788, 0.702592, 0.321571, -0.547984, 0.115942, 0.828414, 0.544754, -0.702083, 0.458608, -0.101664, 0.636235, 0.17525)

[node name="Rifle" parent="Agent/game_rig/Skeleton3D" index="7"]
transform = Transform3D(0.552539, 0.729633, 0.40291, -0.637665, 0.0587571, 0.768069, 0.536735, -0.68131, 0.497726, -0.0925913, 0.634493, 0.186754)

[node name="Shotgun" parent="Agent/game_rig/Skeleton3D" index="8"]
transform = Transform3D(0.660773, 0.631017, 0.406443, -0.635263, 0.181747, 0.750605, 0.399775, -0.754178, 0.520955, -0.0963789, 0.634415, 0.193159)

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_no7tm")
visibility_update_mode = 1

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Agent")
tree_root = SubResource("AnimationNodeStateMachine_dmx22")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Agent/AnimationPlayer")
parameters/Crouch/blend_position = Vector2(1, 1)
parameters/Stand/blend_position = Vector2(1, 1)

[node name="ProneCheck" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.17, 0)
target_position = Vector3(0, 0, 0.535)
collide_with_areas = true
collide_with_bodies = false

[node name="CrouchCheck" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.17, 0)
target_position = Vector3(0, 0.5, 0)
collide_with_areas = true
collide_with_bodies = false

[node name="StandCheck" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.17, 0)
target_position = Vector3(0, 0.9, 0)
collide_with_areas = true
collide_with_bodies = false

[node name="ActiveItem" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.18837, 0)
visible = false
pixel_size = 0.003
billboard = 1
texture = ExtResource("4_k5gu7")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
path_desired_distance = 3.0
avoidance_enabled = true
debug_enabled = true

[node name="CQCAnimationHelper" type="Node3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0.48)

[node name="Sprite3D" type="Sprite3D" parent="CQCAnimationHelper"]
visible = false
pixel_size = 0.0045
billboard = 1
texture = ExtResource("5_ciyir")

[node name="ClientsideSoundEffects" type="Node" parent="."]

[node name="GlancedSomething" type="AudioStreamPlayer3D" parent="ClientsideSoundEffects"]
stream = ExtResource("6_1rg8k")
bus = &"SFX"

[node name="SpottedElement" type="AudioStreamPlayer3D" parent="ClientsideSoundEffects"]
stream = ExtResource("7_rs5ra")
bus = &"SFX"

[node name="SpottedAgent" type="AudioStreamPlayer3D" parent="ClientsideSoundEffects"]
stream = ExtResource("7_rs5ra")
bus = &"SFX"

[node name="AgentIsActive" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
axis = 1
billboard = 2
texture = ExtResource("8_jowv5")

[node name="AgentIsDead" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1.30344, 0)
axis = 1
billboard = 2
texture_filter = 0
texture = ExtResource("9_6ccb4")

[node name="AgentIsStunned" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1.10928, 0)
pixel_size = 0.008
texture_filter = 0
texture = ExtResource("9_qm2d1")

[connection signal="animation_finished" from="AnimationTree" to="." method="_on_animation_finished"]

[editable path="Agent"]
